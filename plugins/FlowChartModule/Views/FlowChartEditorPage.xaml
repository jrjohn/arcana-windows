<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="250"/>
        </Grid.ColumnDefinitions>

        <!-- Toolbar -->
        <CommandBar Grid.Row="0" Grid.ColumnSpan="3" DefaultLabelPosition="Right">
            <AppBarButton Name="NewButton" Icon="Page2" Label="New"/>
            <AppBarButton Name="OpenButton" Icon="OpenFile" Label="Open"/>
            <AppBarButton Name="SaveButton" Icon="Save" Label="Save"/>
            <AppBarButton Name="SaveAsButton" Icon="SaveLocal" Label="Save As"/>
            <AppBarSeparator/>
            <AppBarButton Name="UndoButton" Icon="Undo" Label="Undo"/>
            <AppBarButton Name="RedoButton" Icon="Redo" Label="Redo"/>
            <AppBarSeparator/>
            <AppBarButton Name="DeleteButton" Icon="Delete" Label="Delete"/>
            <AppBarButton Name="DuplicateButton" Icon="Copy" Label="Duplicate"/>
            <AppBarSeparator/>
            <AppBarButton Name="ZoomInButton" Icon="ZoomIn" Label="Zoom In"/>
            <AppBarButton Name="ZoomOutButton" Icon="ZoomOut" Label="Zoom Out"/>
            <AppBarButton Name="ZoomResetButton" Label="100%">
                <AppBarButton.Icon>
                    <FontIcon Glyph="&#xE71E;"/>
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarSeparator/>
            <AppBarToggleButton Name="ConnectModeButton" Label="Connect">
                <AppBarToggleButton.Icon>
                    <FontIcon Glyph="&#xE8FB;"/>
                </AppBarToggleButton.Icon>
            </AppBarToggleButton>
            <CommandBar.SecondaryCommands>
                <AppBarButton Name="SampleButton" Label="Create Sample">
                    <AppBarButton.Icon>
                        <FontIcon Glyph="&#xE8F1;"/>
                    </AppBarButton.Icon>
                </AppBarButton>
            </CommandBar.SecondaryCommands>
        </CommandBar>

        <!-- Shape Palette -->
        <Border Grid.Row="1" Grid.Column="0"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Name="ShapesTitle" Text="Shapes"
                           Style="{ThemeResource SubtitleTextBlockStyle}"
                           Margin="16,12,16,12"/>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel Name="ShapesPanel" Margin="8" Spacing="4"/>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Canvas Area -->
        <Border Grid.Row="1" Grid.Column="1"
                Background="{ThemeResource LayerFillColorDefaultBrush}">
            <ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto"
                          ZoomMode="Disabled">
                <Canvas Name="DiagramCanvas" Width="2000" Height="2000" Background="White"/>
            </ScrollViewer>
        </Border>

        <!-- Properties Panel -->
        <Border Grid.Row="1" Grid.Column="2"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1,0,0,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="16" Spacing="12">
                    <TextBlock Name="PropertiesTitle" Text="Properties"
                               Style="{ThemeResource SubtitleTextBlockStyle}"/>

                    <!-- Node Properties -->
                    <StackPanel Name="NodePropertiesPanel" Visibility="Collapsed" Spacing="8">
                        <TextBlock Name="NodeTextLabel" Text="Text" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBox Name="NodeTextBox" PlaceholderText="Enter text..."/>

                        <TextBlock Name="NodeFillLabel" Text="Fill Color" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ColorPicker Name="NodeFillColorPicker"
                                     ColorSpectrumShape="Ring"
                                     IsMoreButtonVisible="False"
                                     IsColorSliderVisible="True"
                                     IsColorChannelTextInputVisible="False"
                                     IsHexInputVisible="True"
                                     IsAlphaEnabled="False"/>

                        <TextBlock Name="NodeStrokeLabel" Text="Border Color" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ColorPicker Name="NodeStrokeColorPicker"
                                     ColorSpectrumShape="Ring"
                                     IsMoreButtonVisible="False"
                                     IsColorSliderVisible="True"
                                     IsColorChannelTextInputVisible="False"
                                     IsHexInputVisible="True"
                                     IsAlphaEnabled="False"/>

                        <TextBlock Name="NodeSizeLabel" Text="Size" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <NumberBox Name="NodeWidthBox" Header="Width" Minimum="40" Maximum="500"
                                       SpinButtonPlacementMode="Compact"/>
                            <NumberBox Name="NodeHeightBox" Grid.Column="2" Header="Height" Minimum="30" Maximum="500"
                                       SpinButtonPlacementMode="Compact"/>
                        </Grid>

                        <TextBlock Name="NodeFontLabel" Text="Font Size" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <NumberBox Name="NodeFontSizeBox" Minimum="8" Maximum="72" Value="14"
                                   SpinButtonPlacementMode="Compact"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button Name="BringToFrontButton" Content="Bring to Front"/>
                            <Button Name="SendToBackButton" Content="Send to Back"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Edge Properties -->
                    <StackPanel Name="EdgePropertiesPanel" Visibility="Collapsed" Spacing="8">
                        <TextBlock Name="EdgeLabelTitle" Text="Label" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBox Name="EdgeLabelBox" PlaceholderText="Enter label..."/>

                        <TextBlock Name="EdgeStyleLabel" Text="Line Style" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ComboBox Name="EdgeStyleComboBox" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="Solid" Tag="Solid"/>
                            <ComboBoxItem Content="Dashed" Tag="Dashed"/>
                            <ComboBoxItem Content="Dotted" Tag="Dotted"/>
                            <ComboBoxItem Content="Dash-Dot" Tag="DashDot"/>
                        </ComboBox>

                        <TextBlock Name="EdgeRoutingLabel" Text="Routing" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ComboBox Name="EdgeRoutingComboBox" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="Direct" Tag="Direct"/>
                            <ComboBoxItem Content="Orthogonal" Tag="Orthogonal"/>
                            <ComboBoxItem Content="Curved" Tag="Curved"/>
                        </ComboBox>

                        <TextBlock Name="EdgeArrowLabel" Text="Target Arrow" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ComboBox Name="EdgeArrowComboBox" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="None" Tag="None"/>
                            <ComboBoxItem Content="Arrow" Tag="Arrow"/>
                            <ComboBoxItem Content="Open Arrow" Tag="OpenArrow"/>
                            <ComboBoxItem Content="Diamond" Tag="Diamond"/>
                            <ComboBoxItem Content="Circle" Tag="Circle"/>
                        </ComboBox>

                        <TextBlock Name="EdgeColorLabel" Text="Color" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <ColorPicker Name="EdgeColorPicker"
                                     ColorSpectrumShape="Ring"
                                     IsMoreButtonVisible="False"
                                     IsColorSliderVisible="True"
                                     IsColorChannelTextInputVisible="False"
                                     IsHexInputVisible="True"
                                     IsAlphaEnabled="False"/>
                    </StackPanel>

                    <!-- Diagram Properties -->
                    <StackPanel Name="DiagramPropertiesPanel" Visibility="Visible" Spacing="8">
                        <TextBlock Name="DiagramNameLabel" Text="Diagram Name" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBox Name="DiagramNameBox" PlaceholderText="Untitled Diagram"/>

                        <TextBlock Name="DiagramDescLabel" Text="Description" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <TextBox Name="DiagramDescBox" TextWrapping="Wrap" AcceptsReturn="True" Height="80"/>

                        <CheckBox Name="ShowGridCheckBox" Content="Show Grid" IsChecked="True"/>
                        <CheckBox Name="SnapToGridCheckBox" Content="Snap to Grid" IsChecked="True"/>

                        <TextBlock Name="GridSizeLabel" Text="Grid Size" Style="{ThemeResource CaptionTextBlockStyle}"/>
                        <NumberBox Name="GridSizeBox" Minimum="5" Maximum="50" Value="20"
                                   SpinButtonPlacementMode="Compact"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="2" Grid.ColumnSpan="3"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0"
                Padding="16,8,16,8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Name="StatusText" Text="Ready" VerticalAlignment="Center"/>
                <TextBlock Name="ZoomText" Grid.Column="1" Text="100%" Margin="16,0" VerticalAlignment="Center"/>
                <TextBlock Name="ElementCountText" Grid.Column="2" Text="0 nodes, 0 edges" VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Page>
